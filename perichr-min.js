(function(e,t,n){"use strict";if(e[t]){e[t]();return}var i=e[t]=function(){z.apply(null,arguments)},r=i.Functions={},a=i.Plugins={},s=i.LibPath={},o=(new Date).getTime(),l={},c={},u=c.FN={},f=c.OPTION={},d=u.each=r.ForEach=function(e,t,n){var i=h(e);if(n&&!i)e=[e];n||i?r(e):a(e);function r(e){for(var n=0,i=e.length;n<i;n++){if(t.call(e[n],n,e[n])===false)break}}function a(e){for(var n in e){if(t.call(e[n],n,e[n])===false)break}}},p=u.index=r.IndexOfArray=function(e,t){var n,i=t.length;for(n=0;i>n;n++)if(e==t[n])return n;return-1},h=u.arraylike=r.IsArraylike=function(e){var t=e.length,n=typeof e;if(/string|function/.test(n))return false;if(e.nodeType===1&&t)return true;return n==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e},m=u.array=r.Arraify=function(e){try{var t=Array.prototype.slice.call(e,0)}catch(n){for(var i,t=[],r=0;i=e[r++];)t.push(i)}return t},v=u.extend=r.Extend=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||n))e[i]=t[i];return e},y=u.css=r.InsertStyle=function(e){var t=document.createElement("link");t.href=e;t.rel="stylesheet";document.head.appendChild(t)},g=u.js=r.InsertScript=function(e,t,n){if(typeof t=="boolean"){n=t;t=null}e=N(e);var i=l[e]||{callback:[]},r=function(){while(i.callback[0]){var e=i.callback.shift();e(200,"success")}};if(t)i.callback.push(t);if(i.ready){r();return}if(l[e]){return}else if(!/[\?&]callback=/.test(e)){l[e]=i}setTimeout(function(){var t=document.createElement("script");t.src=e;t.onload=t.onreadystatechange=function(){if(!t.readyState||/loaded|complete/.test(t.readyState)){t.onload=t.onreadystatechange=null;t.ready=true;r()}};document.body.appendChild(t);if(n){if(t.parentNode)t.parentNode.removeChild(t)}},0)},b=u.jsonp=r.Jsonp=function(t){t.data=t.data||{};t.data._=(new Date).valueOf();t.data.callback=t.data.callback||L("cb");t.url+=(/\?/.test(t.url)?"&":"?")+R(t.data);e[t.data.callback]=function(e){t.success&&t.success(e)};g(t.url,function(){delete e[t.data.callback]},true)},C=u.load=r.JsLoader=function(){var e=m(arguments),t=function(){if(e.length>0){var t=e.shift();if(!h(t))t=[t];n(t)}},n=function(e){var n=e.length,i=function(){n--;if(n==0)t()};d(e,function(){var e=this,t=typeof e;switch(t){case"string":g(e,i,true);break;case"function":e();i();break;case"number":setTimeout(i,e);break;default:i();break}})};t()},N=u.trim=r.Trim=function(e){return e.replace(/^(\s|\u00A0|\t|\r|\n)+/,"").replace(/(\s|\u00A0|\t|\r|\n)+$/,"")},L=u.seed=r.Seed=function(e){return(e?D(e):"")+o++},k=u.id=r.GetElementById=function(e){return document.getElementById(e)},E=u.qs=r.QuerySelector=function(e){return document.querySelector(e)},A=u.qa=r.QuerySelectorAll=function(e){return document.querySelectorAll(e)},w=u.element=r.CreateElement=function(e,t,n){var i=document.createElement(e);if(t){d(t,function(e,t){j(i,e,t)})}if(n&&n.length>0){d(n,function(){var e=this;S(i,w(e.tag,e.attributes,e.childs))})}return i},x=u.remove=r.RemoveElement=function(e){e.parentNode.removeChild(e)},S=u.append=r.AppendChild=function(e,t){e.appendChild(t)},T=u.prepend=r.PrependChild=function(e,t){if(e.hasChildNodes())e.insertBefore(t,e.firstChild);else e.appendChild(t)},I=u.before=r.BeforeChild=function(e,t){e.parentNode.insertBefore(t,e)},O=u.after=r.AfterElement=function(e,t){var n=e.parentNode;if(n.lastChild===e)n.appendChild(t);else n.insertBefore(t,e.nextSibling)},P=u.text=r.ElementText=function(e,t){if(t===n){if(typeof e.textContent==="string"){return e.textContent}else{var i="";for(e=e.firstChild;e;e=elem.nextSibling){i+=P(e)}return i}}else{e.innerHTML="";S(e,document.createTextNode(t))}},j=u.attribute=r.ElementAttribute=function(e,t,i){if(i===n){return e.getAttribute(t)}else{e.setAttribute(t,i)}},B=u.hasclass=r.ContainsClass=function(e,t){var n=true;d(t.split(" "),function(){if(e.classList?!e.classList.contains(t):p(t,e.className.split(" "))==-1){n=false;return false}});return n},F=u.addclass=r.AddClass=function(e,t){d(t.split(" "),function(){this&&e.classList?e.classList.add(this):p(this,e.className.split(" "))==-1&&(e.className+=" "+this)})},G=u.rmclass=r.RemoveClass=function(e,t){d(t.split(" "),function(){if(!this){return}if(e.classList){e.classList.remove(this)}else{var t=e.className.split(" "),n=p(this,t);if(n>-1){classNames.splice(this,1);e.className=classNames.join(" ")}}})},$=u.toggleclass=r.ToggleClass=function(){d(key.split(" "),function(){if(!this){return}if(element.classList){element.classList.toggle(this)}else{var e=element.className.split(" "),t=p(this,e);if(t>-1){classNames.splice(t,1);element.className=classNames.join(" ")}else{element.className+=" "+this}}})},q=u.on=r.AddEvent=function(e,t,n,i){d(e,function(){this.addEventListener?this.addEventListener(t,n,!!i):this.attachEvent("on"+t,n)},true)},J=u.off=r.RemoveEvent=function(e,t,n,i){d(e,function(){e.removeEventListener?this.removeEventListener(t,n,!!i):this.detachEvent("on"+t,n)},true)},R=u.serialize=r.Serialize=function(e){var t=[];for(var n in e)n=[n,e[n]].join("="),t.push(n);return t.join("&")},_=u.times=r.Times=function(e,t,n){var i=Array(Math.max(0,e));for(var r=0;r<e;r++)i[r]=t.call(n,r);return i};function z(e){if(e){e.GetFullId=function(){return r};e.GetPath=function(e,n){e=e||i;n=n||t;return M(e,s[n])};e.GetPlugin=function(e,n){e=e||i;n=n||t;return a[Q(n,e)]};e.Load=function(){var e=[];d(arguments,function(n,i){if(typeof i=="string"){i=M(i,s[t])}else if(h(i)){d(i,function(e,n){if(typeof this=="string"){i[e]=M(n,s[t])}})}i&&e.push(i)});C.apply(null,e)};var t=e.key||"",i=e.id||D("noname")+L(),r=Q(t,i),o={},l=function(e){e=e.toLocaleUpperCase();return function(t,n){t=t.toLocaleLowerCase();return n?o[e][t]:c[e][t]}},p=function(e,t){e=e.toLocaleUpperCase();return function(i,r){i=i.toLocaleLowerCase();if(r===n){return o[e][i]||c[e][i]}else{o[e][i]=r;t&&t(i,r)}}};a[r]=e;e.GetOption=l("option");e.option=o.OPTION=p("option");e.GetFn=l("fn");e.fn=o.FN=p("fn",function(t,n){e.fn[t]=n||u[t]});d(u,function(t,n){e.fn[t]=n});e.Init&&e.Init(e)}else{d(A("script"),function(){if(/\/perichr\.js$/.test(this.src)){var e=N(this.getAttribute("data-PK")||"");if(!s[e]){s[e]=M(this.src.replace(/(.+)perichr\.js$/,"$1"))}var t=this.getAttribute("data-init")||"p.js",n=this.getAttribute("data-options")||"{}";x(this);v(f,JSON.parse(n));var i=0;t=t.split(",");d(t,function(n,i){t[n]=M(i,s[e])});C.apply(null,t)}},true)}}z();function D(e){return t+e+"_"}function M(e,t){if(0==e.indexOf("//")||/^([\w]+:\/\/|\/)/.test(e)){return e}if(!t){t=window.location;t=t.protocol+"//"+t.host+t.pathname}e=(t+"/"+e).replace(/([^:\/])[\/]+/g,"$1/");return e}function Q(){var e=[];d(arguments,function(){this&&e.push(this)});return e.join("_")}})(window,"P");